<!-- 
File Name: report.component.html
Description: Survey report component layout
Web app name: Aurora Research Company
Team name: A-Star
Team Members:
  Kuo, Yi-Cheng (301181514)
  Yeung, Lok Ki (301252535)
  Lam, Hing Yu (301257216)
  Chung, Ting Hin (301287013)
  Le, Hoang Long (301236235) 
-->

<!-- Survey Report Section -->
<div class="container">
  
    <!-- Title -->
    <div class="container p-3">
      <h1 class="text-center aurora-title">Survey Report</h1>
    </div>

    <h3 class="text_blue"><i class="fa fa-table"></i> Survey Name: {{survey?.name}}</h3>
    
    <!-- Export data button -->
    <div style="float: right;">
        <a href="javascript:void(0);" (click)="downloadDataset()" class="btn btn-secondary">
            <i class="fa fa-download"></i> Export Data</a>
    </div>

    <div style="padding-left: 34px;">
        <h4>Description:</h4>
        <p>{{survey?.description}}</p>
        <p style="font-weight: bold;">
            Number of respondents: {{survey?.answers?.length}} 
        </p>
    </div>

    <!-- Display statistics -->
    <div style="background-color: #F2F7FE; padding: 16px; margin-top: 8px; margin-bottom: 16px;" *ngFor="let question of survey?.questions">
        <h4><i class="fa fa-question-circle" style="color: #3DA5D9;"></i> Question {{question.question_priority}}: {{question.name}}</h4>
        <br>
        <br>
        <div echarts [options]="chartDataMap.get(question._id)" class="chart"></div>
    </div>

    <div style="text-align: right;">
        <button type="button" class="btn btn-primary" (click)="back()">
            <i class="fa fa-undo"></i> Back</button>
    </div>
  
</div>
